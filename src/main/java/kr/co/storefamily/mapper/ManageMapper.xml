<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.storefamily.mapper.ManageMapper">
	
	
	<select id="employee_invite_list" resultType="Employee_Invite">
		select * from employee_invite where code = #{code}
	</select>
	
	<select id="employee_ok" resultType="Member">
		select * from member where code=#{code} and id not in(#{id})
	</select>
	
	<select id="employee_invite_chk" resultType="int">
		select count(*) from employee_invite where email = #{email}
	</select>
	
	<insert id="employee_invite_in" parameterType="String">
		insert into employee_invite(name,email,code) values(#{name},#{email},#{code})
	</insert>
	
	<update id="employee_invite_chk_up" parameterType="String">
		update employee_invite set chk = chk+1 where email=#{email}
	</update>
		
	<update id="employee_chk_ok" parameterType="int">
		update member set chk=1 where bno=#{bno}
	</update>
	
	<update id="employee_chk_no" parameterType="int">
		update member set chk=-1 where bno=#{bno}
	</update>
	
	<update id="employee_chk_reset" parameterType="int">
		update member set chk=0 where bno=#{bno}	
	</update>

	<select id="employee_member_list" resultType="Member">
		select * from member where code=#{code} and chk=1 and id not in(#{id});
	</select>
	
	<select id="employee_member_imformation" resultType="Member">
		select * from member where bno=#{bno}
	</select>
	
	<update id="employee_member_update" parameterType="Member">
		update member set health=#{health}, employment=#{employment} where bno =#{bno}
	</update>
	
	<update id="employee_member_delete" parameterType="int">
		update member set chk=2 where bno=#{bno}
	</update>
</mapper>